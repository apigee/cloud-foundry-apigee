---
applications:
- name: sample-co
  memory: 1G
  instances: 1
  host: sample-co
  health-check-type: http
  health-check-http-endpoint: /healthcheck
  path: .
  env:
    #APIGEE_MICROGATEWAY_PROXY: edgemicro_cf-test.local.pcfdev.io
    #APIGEE_MICROGATEWAY_CUST_PLUGINS: plugins
    #APIGEE_MICROGATEWAY_PROCESSES: 2
    #APIGEE_MICROGATEWAY_NODEJS_URL: https://mylocaldomain.com # or https://mylocaldomain.com/custom/folder
    #APIGEE_MICROGATEWAY_NODEJS_LOCAL_INSTALL: true # must be set to true or false; if not included then false is assumed
    #APIGEE_MICROGATEWAY_NODEJS_FILENAME: node-v6.11.3-linux-x64.tar.gz
    #APIGEE_MICROGATEWAY_NODEJS_VERSION: 8.11.3 #will fetch from https://nodejs.org/dist
    #APIGEE_MICROGATEWAY_VERSION: 2.5.19 #will fetch from https://github.com/apigee-internal/microgateway
    APIGEE_MICROGATEWAY_CONFIG_DIR: config
    APIGEE_MICROGATEWAY_CUSTOM: |
                                {"policies":
                                  {
                                  "spikearrest":
                                    {
                                      "allow": 10,
                                      "timeUnit": "minute"
                                    }
                                  },
                                "sequence": ["healthcheck","spikearrest"]
                                }
